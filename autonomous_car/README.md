# Autonomous Car

This folder contains the C++ application that runs on the vehicle. It captures video using OpenCV, exposes a WebSocket server via Boost.Asio and controls the Raspberry Pi GPIO through pigpio. Optionally it can also run a neural network generated by [Edge&nbsp;Impulse](https://www.edgeimpulse.com) for image inference.

## Prerequisites

- Linux environment with a C++17 compiler (e.g. `g++` or `clang++`).
- [CMake](https://cmake.org) 3.10 or newer.
- [Ninja](https://ninja-build.org/) build system.
- Development libraries:
  - `libpigpio-dev` and `pigpio`
  - `python3-pigpio`
  - `libopencv-dev` and `v4l-utils`
  - `libboost-all-dev`
  - `libkissfft-dev`
  - `libcodec2-dev`
  - `rapidjson-dev`

## Setup

You can install all required packages automatically:

```bash
cd autonomous_car
./setup.sh
```

If you prefer manual installation, the following commands provide the same packages:

```bash
sudo apt update
sudo apt install -y build-essential cmake ninja-build git \
    libboost-all-dev libopencv-dev v4l-utils \
    libpigpio-dev pigpio python3-pigpio \
    libkissfft-dev libcodec2-dev rapidjson-dev
```

## Building

Run `build.sh` to configure and compile using Ninja:

```bash
./build.sh          # full build with Edge Impulse
```

For a lighter build without the Edge Impulse SDK use:

```bash
./build.sh -DLITE  # skips Edge Impulse sources
```

The script creates a `build/` directory and generates the `autonomous_car` executable inside it.

## Running

After a successful build start the program with:

```bash
./start.sh
```

The script launches the executable in the `build/` folder and prints logging information to the console.

## Edge Impulse

Edge Impulse integration is optional. When the project is built in the default mode the SDK and model files inside `include/edge-impulse-sdk`, `include/model-parameters` and `include/tflite-model` are compiled, enabling image classification. Passing `-DLITE` to `build.sh` disables this step for faster builds. To use your own model simply replace these directories with the files exported from your Edge Impulse project.
